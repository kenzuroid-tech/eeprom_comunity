<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delegate Voting - Pemilihan Ketua Umum EEPROM 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="icon" href="/public/assets/images/eeprom logo.png" type="image/png">

    <style>
        :root {
            --primary-blue: #1A237E;
            --secondary-blue: #3F51B5;
            --accent-orange: #FF5722;
            --light-gray: #F8F9FA;
            --medium-gray: #E8EAF6;
            --dark-text: #212529;
            --soft-text: #495057;
            --shadow-light: rgba(0, 0, 0, 0.08);
            --shadow-md: rgba(0, 0, 0, 0.15);
        }

        body {
            background-color: var(--light-gray);
            font-family: 'Poppins', sans-serif;
            color: var(--soft-text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Container & Header */
        .voting-container {
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            flex-grow: 1;
        }

        .header-minimal {
            text-align: center;
            margin-bottom: 40px;
        }

        .header-minimal img {
            width: 100px;
            margin-bottom: 20px;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1));
        }

        .header-minimal h1 {
            color: var(--primary-blue);
            font-weight: 800;
            font-size: 2.2rem;
            margin-bottom: 5px;
        }

        .header-minimal p {
            font-size: 1.1rem;
            color: var(--accent-orange);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Cards & Components */
        .card-custom {
            background: white;
            border-radius: 15px;
            border: none;
            box-shadow: 0 10px 30px var(--shadow-light);
            padding: 40px;
            margin-bottom: 30px;
        }

        .info-box {
            background-color: var(--medium-gray);
            border-left: 5px solid var(--primary-blue);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
        }

        .warning-box {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            color: #856404;
        }

        /* Token Input */
        .token-input-field {
            font-size: 1.5rem;
            letter-spacing: 4px;
            text-align: center;
            font-weight: 700;
            border: 2px solid var(--medium-gray);
            border-radius: 10px;
            padding: 15px;
            color: var(--primary-blue);
            transition: all 0.3s;
        }

        .token-input-field:focus {
            border-color: var(--accent-orange);
            box-shadow: 0 0 0 0.25rem rgba(255, 87, 34, 0.1);
            outline: none;
        }

        /* Candidates */
        .candidate-card {
            border: 3px solid var(--medium-gray);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative;
            background: white;
            height: 100%;
        }

        .candidate-card:hover {
            border-color: var(--primary-blue);
            transform: translateY(-5px);
            box-shadow: 0 15px 30px var(--shadow-md);
        }

        .candidate-card.selected {
            border-color: var(--accent-orange);
            background-color: #fff9f7;
        }

        .no-urut-badge {
            position: absolute;
            top: 20px;
            left: 20px;
            background: var(--accent-orange);
            color: white;
            padding: 5px 15px;
            border-radius: 50px;
            font-weight: 800;
            font-size: 1rem;
            z-index: 10;
        }

        .candidate-img-wrapper {
            width: 100%;
            height: 300px;
            overflow: hidden;
        }

        .candidate-img-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .btn-vote-main {
            background-color: var(--primary-blue);
            color: white;
            padding: 15px 40px;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1.2rem;
            border: none;
            transition: 0.3s;
            width: 100%;
        }

        .btn-vote-main:hover {
            background-color: var(--secondary-blue);
            transform: translateY(-3px);
            color: white;
        }

        /* Result Section */
        .winner-box {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin-top: 30px;
        }

        .winner-img {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 8px solid #FFD700; /* Gold */
            margin-bottom: 20px;
            object-fit: cover;
        }

        /* Footer */
        .footer-minimal {
            text-align: center;
            padding: 30px;
            color: var(--soft-text);
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>

<body>

    <div class="voting-container">
        <div class="header-minimal">
            <img src="/public/assets/images/eeprom logo.png" alt="EEPROM Logo">
            <h1>Pemilihan Ketua Umum 2026</h1>
            <p>Portal Voting Delegasi</p>
        </div>

        <div id="section-token" class="fade-in">
            <div class="card-custom text-center">
                <h4 class="fw-bold text-dark mb-3">Selamat Datang, Delegasi EEPROM</h4>
                <div class="info-box text-start mb-4">
                    <p class="mb-0"><i class="bi bi-info-circle-fill me-2"></i> Anda telah diundang untuk berpartisipasi dalam proses demokrasi pemilihan Ketua Umum EEPROM periode 2026.</p>
                </div>
                
                <div class="py-4">
                    <label class="form-label fw-bold text-primary mb-3">Masukkan Token Voting Anda</label>
                    <input type="text" id="tokenInput" class="form-control token-input-field mx-auto mb-4" placeholder="XXXX-XXXX-XXXX" style="max-width: 400px;">
                    <button onclick="validateToken()" class="btn btn-vote-main" style="max-width: 400px;">Validasi Token <i class="bi bi-shield-check ms-2"></i></button>
                </div>

                <div class="row g-3 mt-4 text-start">
                    <div class="col-md-6">
                        <div class="d-flex align-items-center">
                            <div class="fs-2 text-primary me-3"><i class="bi bi-envelope-at"></i></div>
                            <span class="small">Token telah dikirimkan secara resmi via email terdaftar.</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex align-items-center">
                            <div class="fs-2 text-primary me-3"><i class="bi bi-whatsapp"></i></div>
                            <span class="small">Periksa WhatsApp atau inbox SMS Anda secara berkala.</span>
                        </div>
                    </div>
                </div>
                <p class="mt-4 small">Belum menerima token? <a href="#" class="text-accent-orange fw-bold">Hubungi Panitia Pemilihan</a></p>
            </div>
        </div>

        <div id="section-voting" class="fade-in d-none">
            <div class="warning-box prominent shadow-sm">
                <h5 class="fw-bold mb-2"><i class="bi bi-exclamation-triangle-fill me-2"></i> PENTING: Anda hanya bisa memilih SATU kali!</h5>
                <p class="mb-0 small">Pastikan pilihan Anda sudah benar. Pilihan tidak dapat diubah atau dianulir setelah Anda menekan tombol submit.</p>
            </div>

            <div class="card-custom mb-4 p-3 border-0">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <span class="badge bg-primary mb-2">Status: Delegasi</span>
                        <h4 class="fw-bold mb-0" id="delegateName">Selamat Datang, Ahmad Rizky</h4>
                        <p class="text-muted small mb-0 mt-1">Token valid hingga: 23 Desember 2025, 23:59 WIB</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <div class="text-accent-orange fw-bold fs-5">
                            <i class="bi bi-clock-history me-2"></i><span id="countdown">02:45:10</span>
                        </div>
                        <small class="text-muted">Sisa waktu voting</small>
                    </div>
                </div>
            </div>

            <h3 class="fw-bold text-primary mb-4 mt-5">Kandidat Ketua Umum 2026</h3>

            <div class="row g-4">
                <div class="col-lg-6">
                    <div class="candidate-card" id="card-1" onclick="selectCandidate(1)">
                        <div class="no-urut-badge">No. Urut 01</div>
                        <div class="candidate-img-wrapper">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80" alt="Kandidat 1">
                        </div>
                        <div class="p-4">
                            <h2 class="fw-extrabold text-dark mb-1">Andi Pratama</h2>
                            <p class="text-muted mb-3">NIM: 22411700XX | Gen 14 | Divisi Software</p>
                            
                            <div class="accordion" id="acc1">
                                <div class="accordion-item border-0">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed px-0 bg-white fw-bold shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#visi1">
                                            Lihat Visi & Misi
                                        </button>
                                    </h2>
                                    <div id="visi1" class="accordion-collapse collapse" data-bs-parent="#acc1">
                                        <div class="accordion-body px-0 py-2 small">
                                            <div class="bg-light p-3 rounded mb-3 border-start border-4 border-primary">
                                                <strong>üìã Visi:</strong><br>
                                                "Mewujudkan EEPROM sebagai pusat inovasi robotika yang unggul, kompetitif, dan adaptif di tingkat internasional."
                                            </div>
                                            <strong>‚úÖ Misi:</strong>
                                            <ul class="mt-2">
                                                <li>Meningkatkan kualitas riset internal divisi.</li>
                                                <li>Memperkuat kolaborasi lintas generasi alumni.</li>
                                            </ul>
                                            <strong>üéØ Program Kerja:</strong>
                                            <ul class="list-unstyled mt-2">
                                                <li><i class="bi bi-dot text-primary"></i> EEPROM Innovation Lab</li>
                                                <li><i class="bi bi-dot text-primary"></i> Global Robotic Mentorship</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4 pt-3 border-top">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="candidateRadio" id="radio-1" value="Andi Pratama">
                                    <label class="form-check-label fw-bold text-primary fs-5" for="radio-1"> Pilih Kandidat Ini</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="candidate-card" id="card-2" onclick="selectCandidate(2)">
                        <div class="no-urut-badge">No. Urut 02</div>
                        <div class="candidate-img-wrapper">
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&q=80" alt="Kandidat 2">
                        </div>
                        <div class="p-4">
                            <h2 class="fw-extrabold text-dark mb-1">Budi Cahyono</h2>
                            <p class="text-muted mb-3">NIM: 22411700YY | Gen 14 | Divisi Mekanik</p>
                            
                            <button class="btn btn-link px-0 text-decoration-none fw-bold text-dark" data-bs-toggle="collapse" data-bs-target="#visi2">Lihat Visi & Misi <i class="bi bi-chevron-down ms-1"></i></button>
                            <div class="collapse" id="visi2">
                                <div class="small py-2"><strong>üìã Visi:</strong> Fokus pada solidaritas dan kebermanfaatan sosial berbasis teknologi robotika.</div>
                            </div>

                            <div class="mt-4 pt-3 border-top">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="candidateRadio" id="radio-2" value="Budi Cahyono">
                                    <label class="form-check-label fw-bold text-primary fs-5" for="radio-2"> Pilih Kandidat Ini</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-5 text-center py-4">
                <button type="button" class="btn btn-vote-main btn-lg py-3" onclick="openConfirmation()">Submit Suara Saya <i class="bi bi-send-check-fill ms-2"></i></button>
            </div>
        </div>

        <div id="section-success" class="fade-in d-none">
            <div class="card-custom text-center">
                <div class="mb-4">
                    <i class="bi bi-check-circle-fill text-success" style="font-size: 5rem;"></i>
                </div>
                <h1 class="fw-bold mb-3">Terima Kasih Sudah Memilih!</h1>
                <p class="lead mb-4">Partisipasi Anda sebagai delegasi sangat berarti untuk masa depan demokrasi EEPROM Polinema.</p>
                
                <div class="row justify-content-center mb-4">
                    <div class="col-md-7">
                        <div class="p-4 rounded border-2 border-dashed border-primary bg-light text-start">
                            <div class="d-flex justify-content-between mb-2">
                                <span class="text-muted">Pilihan Anda:</span>
                                <strong class="text-primary" id="votedName">Andi Pratama - No. Urut 01</strong>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span class="text-muted">Waktu Vote:</span>
                                <strong id="votedTime">22 Des 2025, 10:45:12 WIB</strong>
                            </div>
                            <div class="d-flex justify-content-between">
                                <span class="text-muted">Status:</span>
                                <span class="badge bg-success"><i class="bi bi-patch-check-fill me-1"></i> Verified Vote</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert alert-info py-3 border-0">
                    <i class="bi bi-shield-lock-fill me-2"></i> Suara Anda telah tersimpan secara anonim dalam database sistem terenkripsi.
                </div>

                <div class="mt-4 d-flex gap-3 justify-content-center">
                    <button class="btn-primary-eeprom py-3">Lihat Hasil Sementara <i class="bi bi-bar-chart-fill ms-2"></i></button>
                    <button class="btn-secondary-eeprom py-3">Tutup Sesi</button>
                </div>
            </div>
        </div>

    </div>

    <footer class="footer-minimal">
        <div class="container">
            <p class="mb-0">¬© 2025 EEPROM POLINEMA - Tim Panitia Pemilihan Ketua Umum</p>
            <p class="small">Terima kasih atas partisipasi Anda dalam Pemilihan Ketua Umum EEPROM 2026</p>
        </div>
    </footer>

    <div class="modal fade" id="confirmModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg" style="border-radius: 20px;">
                <div class="modal-body p-5 text-center">
                    <div class="text-warning mb-4" style="font-size: 4rem;">
                        <i class="bi bi-exclamation-triangle-fill"></i>
                    </div>
                    <h3 class="fw-bold text-dark mb-3">Konfirmasi Pilihan Anda</h3>
                    <p class="mb-4">Anda akan memberikan suara kepada:<br><strong class="fs-4 text-primary" id="confirmCandidateName">Nama Kandidat</strong></p>
                    
                    <div class="bg-light p-3 rounded mb-4 text-start">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="understandFinal" required>
                            <label class="form-check-label small fw-600" for="understandFinal">
                                ‚òëÔ∏è Saya memahami bahwa pilihan ini bersifat <strong>FINAL</strong> dan tidak dapat diubah kembali.
                            </label>
                        </div>
                    </div>

                    <div class="d-grid gap-2">
                        <button type="button" class="btn btn-vote-main py-3" onclick="submitVote()">Konfirmasi Pilihan <i class="bi bi-check2-all ms-2"></i></button>
                        <button type="button" class="btn btn-light py-2 text-muted fw-bold" data-bs-dismiss="modal">Batal</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Logika Sederhana untuk Simulasi Frontend
        const sectionToken = document.getElementById('section-token');
        const sectionVoting = document.getElementById('section-voting');
        const sectionSuccess = document.getElementById('section-success');
        const modal = new bootstrap.Modal(document.getElementById('confirmModal'));

        // 1. Validasi Token
        function validateToken() {
            const token = document.getElementById('tokenInput').value;
            if(token.length >= 8) {
                sectionToken.classList.add('d-none');
                sectionVoting.classList.remove('d-none');
                window.scrollTo({top: 0, behavior: 'smooth'});
            } else {
                alert('Token tidak ditemukan atau tidak valid. Pastikan Anda memasukkan token dengan benar.');
            }
        }

        // 2. Pilih Kandidat (Visual)
        function selectCandidate(id) {
            document.querySelectorAll('.candidate-card').forEach(card => card.classList.remove('selected'));
            document.querySelectorAll('input[name="candidateRadio"]').forEach(radio => radio.checked = false);
            
            document.getElementById('card-' + id).classList.add('selected');
            document.getElementById('radio-' + id).checked = true;
        }

        // 3. Konfirmasi
        function openConfirmation() {
            const selected = document.querySelector('input[name="candidateRadio"]:checked');
            if(!selected) {
                alert('Silakan pilih salah satu kandidat terlebih dahulu!');
                return;
            }
            document.getElementById('confirmCandidateName').innerText = selected.value;
            modal.show();
        }

        // 4. Submit Akhir
        function submitVote() {
            const check = document.getElementById('understandFinal');
            if(!check.checked) {
                alert('Anda harus mencentang kotak persetujuan.');
                return;
            }

            modal.hide();
            const selected = document.querySelector('input[name="candidateRadio"]:checked').value;
            document.getElementById('votedName').innerText = selected;
            
            // Set Waktu
            const now = new Date();
            document.getElementById('votedTime').innerText = now.toLocaleString('id-ID') + ' WIB';

            sectionVoting.classList.add('d-none');
            sectionSuccess.classList.remove('d-none');
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        // 5. Timer Palsu
        let time = 9910; // dalam detik
        setInterval(() => {
            time--;
            let hours = Math.floor(time / 3600);
            let mins = Math.floor((time % 3600) / 60);
            let secs = time % 60;
            document.getElementById('countdown').innerText = 
                `${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }, 1000);
    </script>
</body>

</html>