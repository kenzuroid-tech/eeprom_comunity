<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum Detail - EEPROM POLINEMA</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="icon" href="/img/eeprom logo.png" type="image/png">
    
    <style>
        :root {
            --primary-blue: #1A237E;
            --secondary-blue: #3F51B5;
            --accent-orange: #FF5722;
            --light-gray: #F8F9FA;
            --medium-gray: #E8EAF6;
            --dark-text: #212529;
            --soft-text: #495057;
            --shadow-light: rgba(0, 0, 0, 0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; font-family: 'Poppins', sans-serif; }

        body {
            background-color: var(--medium-gray);
            color: var(--soft-text);
            min-height: 100vh;
        }

        /* Layout (Matched with dashboard.html) */
        .dashboard-wrapper { display: flex; min-height: 100vh; }
        
        .main-content-area {
            flex-grow: 1;
            padding: 30px;
            margin-left: var(--sidebar-width);
            transition: margin-left 0.3s ease;
        }

        /* Sidebar Styling */
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--primary-blue);
            color: white;
            position: fixed;
            height: 100vh;
            display: flex;
            flex-direction: column;
            z-index: 1030;
            transition: transform 0.3s ease;
            box-shadow: 5px 0 15px rgba(0, 0, 0, 0.2);
        }

        .sidebar-header {
            padding: 25px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-header h3 {
            color: var(--accent-orange);
            font-size: 1.3rem;
            font-weight: 800;
            margin: 0;
            text-transform: uppercase;
        }

        .sidebar-nav .nav-link {
            color: rgba(255, 255, 255, 0.85);
            padding: 12px 25px;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            text-decoration: none;
        }

        .sidebar-nav .nav-link.active {
            background-color: rgba(255, 255, 255, 0.15);
            border-left: 5px solid var(--accent-orange);
            color: white;
            font-weight: 600;
        }

        .sidebar-nav .nav-link i { margin-right: 15px; font-size: 1.1rem; }

        /* Top Navbar */
        .top-navbar {
            background: white;
            padding: 15px 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        /* Custom Forum Components */
        .btn-back {
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            margin-bottom: 20px;
            transition: 0.3s;
        }
        .btn-back:hover { color: var(--accent-orange); transform: translateX(-5px); }

        .topic-header-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--shadow-light);
            margin-bottom: 30px;
            border-left: 5px solid var(--accent-orange);
        }

        .status-badge {
            font-size: 0.75rem;
            padding: 5px 15px;
            border-radius: 50px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 15px;
        }

        .category-discussion { background: #e3f2fd; color: #1976d2; }

        .author-info {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .original-post {
            font-size: 1.05rem;
            line-height: 1.7;
            color: var(--soft-text);
        }

        /* Reply Cards */
        .reply-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            transition: 0.3s;
        }
        .reply-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.08); }

        .reply-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        /* Reply Form */
        .reply-form-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: var(--shadow-light);
        }

        .form-control:focus {
            border-color: var(--secondary-blue);
            box-shadow: 0 0 0 0.25rem rgba(63, 81, 181, 0.1);
        }

        .btn-submit-reply {
            background-color: var(--primary-blue);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 8px;
            font-weight: 600;
            transition: 0.3s;
        }
        .btn-submit-reply:hover { background-color: var(--secondary-blue); color: white; }

        @media (max-width: 992px) {
            .sidebar { transform: translateX(-100%); }
            .sidebar.show { transform: translateX(0); }
            .main-content-area { margin-left: 0; padding: 20px; }
        }
    </style>
</head>

<body>
    <div class="dashboard-wrapper">
        
        <nav id="sidebarMenu" class="sidebar">
            <div class="sidebar-header">
                <img src="/public/assets/images/eeprom logo.png" alt="Logo" width="120" class="mb-2" onerror="this.src='https://via.placeholder.com/45'">
                <!-- <h3>EEPROM Member</h3> -->
            </div>
            
            <div class="sidebar-nav">
                <a href="/src/Views/member-area/dashboard.html" class="nav-link active"><i class="bi bi-house-door-fill"></i><span>Dashboard</span></a>
                <a href="/src/Views/member-area/profile/index.html" class="nav-link"><i class="bi bi-person-circle"></i><span>My Profile</span></a>
                <a href="/src/Views/member-area/gallery/index.html" class="nav-link"><i class="bi bi-images"></i><span>Gallery</span></a>
                <a href="/src/Views/member-area/attendance/index.html" class="nav-link"><i class="bi bi-calendar-check"></i><span>Attendance</span></a>
                <a href="/src/Views/member-area/announcements/index.html" class="nav-link"><i class="bi bi-megaphone"></i><span>Announcements</span></a>
                <a href="/src/Views/member-area/voting/index.html" class="nav-link"><i class="bi bi-patch-check"></i><span>Voting</span></a>
                <a href="/src/Views/member-area/forum/index.html" class="nav-link"><i class="bi bi-chat-dots"></i><span>Forum</span></a>
                <a href="/src/Views/member-area/documents/index.html" class="nav-link"><i class="bi bi-file-earmark-text"></i><span>Documents</span></a>
                
                <hr class="mx-3 opacity-10">
                <a href="/logout.php" class="nav-link text-danger"><i class="bi bi-box-arrow-right"></i><span>Logout</span></a>
            </div>

            <div class="sidebar-footer">© 2024 EEPROM POLINEMA</div>
        </nav>
        
        <div id="mainContentWrapper" class="main-content-area">

            <nav class="top-navbar d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <button class="btn btn-primary me-3 d-lg-none" id="mobile-toggle">
                        <i class="bi bi-list"></i>
                    </button>
                    <h5 class="m-0 fw-bold">Detail Topik Forum</h5>
                </div>
                <div class="d-flex align-items-center">
                    <div class="dropdown">
                        <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" data-bs-toggle="dropdown">
                            <img src="https://ui-avatars.com/api/?name=Member+EEPROM&background=1A237E&color=fff" alt="Profile" width="35" class="rounded-circle me-2">
                            <span class="d-none d-sm-inline text-dark fw-bold small">Nisho</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end shadow border-0">
                            <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>Profile</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item text-danger" href="#"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                        </ul>
                    </div>
                </div>
            </nav>

            <div class="container-fluid p-0">
                <a href="/member/forum.php" class="btn-back">
                    <i class="bi bi-arrow-left me-2"></i> Kembali ke Forum
                </a>

                <div class="topic-header-card">
                    <span class="status-badge category-discussion">Discussion</span>
                    <h1 class="fw-bold text-dark mb-3">Progress Riset Robot KRI 2024 Divisi Software</h1>
                    
                    <div class="original-post mb-4">
                        <p>Halo rekan-rekan software, saya ingin bertanya terkait progress algoritma PID untuk robot KRI tahun ini. Apakah ada kendala saat tuning nilai Kp, Ki, dan Kd? Terutama saat menghadapi permukaan arena yang tidak rata.</p>
                    </div>

                    <div class="author-info">
                        <img src="https://ui-avatars.com/api/?name=Admin+Software&background=1A237E&color=fff" width="45" class="rounded-circle shadow-sm" alt="Author">
                        <div>
                            <p class="m-0 fw-bold text-dark">Admin Software</p>
                            <p class="m-0 small text-muted">Posted on 20 Des 2024 • <i class="bi bi-eye me-1"></i> 156 Views</p>
                        </div>
                    </div>
                </div>

                <h5 class="fw-bold mb-4"><i class="bi bi-chat-square-dots me-2 text-primary"></i>Balasan Diskusi (3)</h5>

                <div class="reply-card">
                    <div class="reply-header">
                        <div class="d-flex align-items-center gap-3">
                            <img src="https://ui-avatars.com/api/?name=Nisho&background=FF5722&color=fff" width="35" class="rounded-circle" alt="User">
                            <div>
                                <p class="m-0 fw-bold text-dark small">Nisho <span class="badge bg-light text-dark fw-normal border ms-1">You</span></p>
                                <p class="m-0 text-muted" style="font-size: 0.7rem;">2 jam yang lalu</p>
                            </div>
                        </div>
                        <div class="d-flex gap-2">
                            <button class="btn btn-sm text-primary p-0" title="Reply"><i class="bi bi-reply-fill"></i></button>
                            <button class="btn btn-sm text-danger p-0" title="Delete"><i class="bi bi-trash3-fill"></i></button>
                        </div>
                    </div>
                    <div class="reply-content small">
                        <p>Izin menjawab, untuk tuning PID di arena tidak rata, kami mencoba menambahkan fungsi <i>moving average filter</i> pada data sensor sebelum masuk ke perhitungan PID. Sejauh ini respon robot lebih stabil.</p>
                    </div>
                </div>

                <div class="reply-card">
                    <div class="reply-header">
                        <div class="d-flex align-items-center gap-3">
                            <img src="https://ui-avatars.com/api/?name=Budi&background=3F51B5&color=fff" width="35" class="rounded-circle" alt="User">
                            <div>
                                <p class="m-0 fw-bold text-dark small">Budi S.</p>
                                <p class="m-0 text-muted" style="font-size: 0.7rem;">1 jam yang lalu</p>
                            </div>
                        </div>
                        <div>
                            <button class="btn btn-sm text-primary p-0"><i class="bi bi-reply-fill"></i></button>
                        </div>
                    </div>
                    <div class="reply-content small">
                        <p>Setuju dengan Nisho. Mungkin bisa dicoba juga implementasi <i>Anti-Windup</i> pada nilai Integral untuk mencegah overshoot berlebih.</p>
                    </div>
                </div>

                <div class="reply-form-card mt-5">
                    <h6 class="fw-bold mb-3"><i class="bi bi-reply me-2"></i>Tulis Balasan</h6>
                    <form id="replyForm">
                        <div class="mb-3">
                            <textarea class="form-control" rows="4" placeholder="Tuliskan pendapat atau jawaban Anda di sini..." required></textarea>
                        </div>
                        <div class="d-flex justify-content-end">
                            <button type="submit" class="btn btn-submit-reply">
                                <i class="bi bi-send-fill me-2"></i>Kirim Balasan
                            </button>
                        </div>
                    </form>
                </div>

                <footer class="mt-5 text-center py-4 border-top small text-muted">
                    © 2024 EEPROM POLINEMA - Elektronika & Robotika Mahasiswa
                </footer>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Sidebar Mobile Toggle
            const mobileBtn = document.getElementById('mobile-toggle');
            const sidebar = document.getElementById('sidebarMenu');
            if(mobileBtn) {
                mobileBtn.addEventListener('click', () => {
                    sidebar.classList.toggle('show');
                });
            }

            // Form Submit Simulation
            document.getElementById('replyForm').addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Balasan Anda telah terkirim!');
                this.reset();
            });

            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', (e) => {
                if (window.innerWidth < 992 && !sidebar.contains(e.target) && !mobileBtn.contains(e.target)) {
                    sidebar.classList.remove('show');
                }
            });
        });
    </script>
</body>
</html>